<script>

let date = new Date(2012, 1, 20, 3, 12);
alert(date);

// - - - - - . - - - - - . - - - - -

function getWeekDay(date)
{
    const DAYS = ['ВС', 'ПН', 'ВТ', 'СР', 'ЧТ', 'ПТ', 'СБ'];
    return DAYS[date.getDay()];
}
let date = new Date(2012, 0, 3); // 3 января 2012 года
alert( getWeekDay(date) );       // нужно вывести "ВТ"

// - - - - - . - - - - - . - - - - -

function getLocalDay(date)
{
    let day = date.getDay();
    return day === 0 ? 7 : day;
}
let date = new Date(2012, 0, 3); // 3 января 2012 года
alert( getLocalDay(date) );      // вторник, нужно показать 2

// - - - - - . - - - - - . - - - - -

function getDateAgo(date, days)
{
    let temp = new Date(date);
    temp.setDate(date.getDate() - days);
    return temp.getDate();
}
let date = new Date(2015, 0, 2);
console.log( getDateAgo(date,   1) ); // 1, (1 Jan 2015)
console.log( getDateAgo(date,   2) ); // 31, (31 Dec 2014)
console.log( getDateAgo(date, 365) ); // 2, (2 Jan 2014)

// - - - - - . - - - - - . - - - - -

function getLastDayOfMonth(year, month)
{
    let date = new Date(year, month + 1, 0);
    return date.getDate();
}
console.log( getLastDayOfMonth(2012, 1) ); // 29

// - - - - - . - - - - - . - - - - -

function getSecondsToday()
{
    let now = new Date();
    return now.getHours() * 3600 + now.getMinutes() * 60 + now.getSeconds();
}
console.log( getSecondsToday() );

// - - - - - . - - - - - . - - - - -

function getSecondsToTomorrow()
{
    let allDay = 24 * 60 * 60;
    let now = new Date();
    return allDay - ( now.getHours() * 3600 + now.getMinutes() * 60 + now.getSeconds() );
}
console.log( getSecondsToTomorrow() );

// - - - - - . - - - - - . - - - - -

function formatDate(date)
{
    let year    = date.getFullYear();
    let month   = date.getMonth() + 1;
    let day     = date.getDate();
    let hours   = date.getHours();
    let minutes = date.getMinutes();

    let d_milisec = new Date() - date;
    let d_sec     = Math.floor(d_milisec / 1000);
    let d_min     = d_sec / 60;
    let d_hours   = d_min / 60;

    year    = year.toString().slice(-2);
    month   = month   < 10 ? '0' + month   : month;
    day     = day     < 10 ? '0' + day     : day;
    hours   = hours   < 10 ? '0' + hours   : hours;
    minutes = minutes < 10 ? '0' + minutes : minutes;

         if (d_sec   < 1) return 'прямо сейчас';
    else if (d_min   < 1) return `${d_sec} сек. назад`
    else if (d_hours < 1) return `${d_min} мин. назад`
    else
        return `${day}.${month}.${year} ${hours}:${minutes}`;
}
console.log( formatDate( new Date(new Date - 1)                   ) ); // "прямо сейчас"
console.log( formatDate( new Date(new Date - 30 * 1000)           ) ); // "30 сек. назад"
console.log( formatDate( new Date(new Date - 5 * 60 * 1000)       ) ); // "5 мин. назад"
console.log( formatDate( new Date(new Date - 24 * 60 * 60 * 1000) ) ); // вчера в это же время

</script>
